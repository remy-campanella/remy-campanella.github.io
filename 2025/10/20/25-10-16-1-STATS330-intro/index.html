<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【STATS 330】 Introduction | remy-campanella.github.io</title><meta name="author" content="Remy Campanella"><meta name="copyright" content="Remy Campanella"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="This course is about statistical modelling. We will expand on the generalised linear model (GLM) encountered in STATS 201&#x2F;8. It comprises four parts:  Generalised linear models Simulation and boots">
<meta property="og:type" content="article">
<meta property="og:title" content="【STATS 330】 Introduction">
<meta property="og:url" content="https://remy-campanella.github.io/2025/10/20/25-10-16-1-STATS330-intro/index.html">
<meta property="og:site_name" content="remy-campanella.github.io">
<meta property="og:description" content="This course is about statistical modelling. We will expand on the generalised linear model (GLM) encountered in STATS 201&#x2F;8. It comprises four parts:  Generalised linear models Simulation and boots">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://remy-campanella.github.io/image/background/remy.jpg">
<meta property="article:published_time" content="2025-10-20T07:54:53.000Z">
<meta property="article:modified_time" content="2025-10-30T02:21:15.346Z">
<meta property="article:author" content="Remy Campanella">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="介绍">
<meta property="article:tag" content="统计学">
<meta property="article:tag" content="R 语言">
<meta property="article:tag" content="数据科学">
<meta property="article:tag" content="奥克兰大学—西南大学合作课程">
<meta property="article:tag" content="外文">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://remy-campanella.github.io/image/background/remy.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【STATS 330】 Introduction",
  "url": "https://remy-campanella.github.io/2025/10/20/25-10-16-1-STATS330-intro/",
  "image": "https://remy-campanella.github.io/image/background/remy.jpg",
  "datePublished": "2025-10-20T07:54:53.000Z",
  "dateModified": "2025-10-30T02:21:15.346Z",
  "author": [
    {
      "@type": "Person",
      "name": "Remy Campanella",
      "url": "https://remy-campanella.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/image/icon/icon.png"><link rel="canonical" href="https://remy-campanella.github.io/2025/10/20/25-10-16-1-STATS330-intro/index.html"><link rel="preconnect" href="https://unpkg.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@7.0.1/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://unpkg.com/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【STATS 330】 Introduction',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/scripts/css/font.css"><!-- hexo injector head_end start -->
    <link rel="stylesheet" href="/css/gallery.css" media="print" onload="this.media='all'">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/icon/loading.gif" data-original="/image/icon/Cover.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about"><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/album"><span> 图库</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/image/background/remy.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/image/icon/loading.gif" data-original="/image/icon/icon.png" alt="Logo"><span class="site-name">remy-campanella.github.io</span></a><a class="nav-page-title" href="/"><span class="site-name">【STATS 330】 Introduction</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about"><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/album"><span> 图库</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【STATS 330】 Introduction</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-20T07:54:53.000Z" title="发表于 2025-10-20 15:54:53">2025-10-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-30T02:21:15.346Z" title="更新于 2025-10-30 10:21:15">2025-10-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AD%A6%E4%B9%A0/">学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AD%A6%E4%B9%A0/STATS-330-Application-and-Practice-of-Statistics/">STATS 330 Application and Practice of Statistics</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>This course is about statistical modelling. We will expand on the <strong>generalised linear model (GLM)</strong> encountered in STATS 201/8. It comprises four parts:</p>
<ol type="1">
<li>Generalised linear models</li>
<li>Simulation and bootstrapping</li>
<li>Regression models for prediction</li>
<li>Regression models for explanation</li>
</ol>
<p>This course provides a versatile statistical toolbox that is useful in a range of fields, including almost all subjects in business and economics, along with experimental or social science.</p>
<p><a target="_blank" rel="noopener" href="https://courseoutline.auckland.ac.nz/dco/course/STATS/330/1215">Course Link</a></p>
<p>Prof. Jing Liu’s Email: <em>liu.jing@aukland.ac.nz</em></p>
<h2 id="focus">Focus</h2>
<ul>
<li>Understanding</li>
<li>Modelling: Choose a model.</li>
<li>Interpreting: Understanding why you’ve done this.</li>
<li>Programming</li>
</ul>
<h2 id="reminiscences-de-stats-210">Reminiscences de STATS 210</h2>
<h3 id="distributions">Distributions</h3>
<ol type="1">
<li><p><strong>Probability Mass Function(pmf)</strong> <span class="math inline">\(f_X(x)\)</span><br />
<span class="math display">\[
f_X(x) = {\rm P}(X = x)  \ \text{for all possible} \ x
\]</span></p></li>
<li><p><strong>Cumulative Distribution Function(cmf)</strong> <span class="math inline">\(F_X(x)\)</span><br />
<span class="math display">\[
F_X(x) = P(X \leq x), x \in \mathbf{R}
\]</span></p></li>
</ol>
<h3 id="frequently-used-distributions">Frequently Used Distributions</h3>
<ol type="1">
<li><p><strong>Bernoulli Distribution</strong><br />
<span class="math display">\[
Y \sim {\rm Berrnoulli}(p)
\]</span><br />
<span class="math display">\[
f_Y(y) = \begin{cases}
     p &amp; y = 1 \\\\
     1 - p &amp; y = 0
 \end{cases}
\]</span><br />
<span class="math display">\[
F_Y(y) = \begin{cases}
     0 &amp; y &lt; 0 \\\\
     1 - p &amp; 0 \leq y &lt; 1 \\\\
     1 &amp; y \geq 1
 \end{cases}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = p, {\rm Var}(Y) = p(1 - p)
\]</span></p></li>
<li><p><strong>Binominal Distribution</strong><br />
Let <span class="math inline">\(X\)</span> be the number of “successes” in <span class="math inline">\(n\)</span> independent Bernoulli trials, where each trial has a probability <span class="math inline">\(p\)</span> of “success”.<br />
<span class="math display">\[
Y \sim {\rm Binominal}(n, p)
\]</span><br />
<span class="math display">\[
f_X(x) = \binom{n}{x}p^x(1 - p)^{n - x} \\\\
x \in \mathbf{N}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = np, {\rm Var}(Y) = np(1 - p)
\]</span></p></li>
<li><p><strong>Hypergeometric Distribution</strong><br />
Let <span class="math inline">\(X\)</span> be the number of “successes” in <span class="math inline">\(n\)</span> draws from a finite number of items <span class="math inline">\(N\)</span>, of which <span class="math inline">\(M\)</span> are “successes”.<br />
<span class="math display">\[
Y \sim {\rm Hypergeometric}(n, M, n)
\]</span><br />
<span class="math display">\[
f_X(x) = \frac{\binom{M}{X}\binom{N - M}{n - x}}{\binom{N}{n}} \\\\
x \in [\max(0, n - N + M), \min(n, M)] \cap \mathbf{Z}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \frac{nM}{N}, {\rm Var}(Y) = n \frac{M}{N}(1 - \frac{M}{N}) \frac{N - n}{N - 1}
\]</span></p></li>
<li><p><strong>Poisson Distribution</strong><br />
A Poisson process counts the number of events occurring in a fixed time (or space),when events occur independently, at a constant average rate of <span class="math inline">\(\lambda\)</span> per unit time and events cannot occur simultaneously.<br />
<span class="math display">\[
Y \sim {\rm Poisson}(\lambda)
\]</span><br />
<span class="math display">\[
f_X(x) = \frac{\lambda^x}{x!}e^{-\lambda} \\\\
x \in \mathbf{N}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \lambda, {\rm Var}(Y) = \lambda
\]</span></p></li>
<li><p><strong>Negative Binominal Distribution</strong><br />
Let <span class="math inline">\(X\)</span> be the number of “failures” before the <span class="math inline">\(k\)</span>th “success” in a sequence of independent Bernoulli trials with the probability of “success” on each trial being <span class="math inline">\(p\)</span>.<br />
<span class="math display">\[
Y \sim {\rm NegBin}(k, p)
\]</span><br />
<span class="math display">\[
f_X(x) = \binom{k + x - 1}{x} p^k (1 - p)^x \\\\
x \in \mathbf{N}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \frac{k(1 - p)}{p}, {\rm Var}(Y) = \frac{k(1 - p)}{p^2}
\]</span></p></li>
<li><p><strong>Geometric Distribution</strong><br />
Let <span class="math inline">\(X\)</span> be the number of “failures” before the first “success” occurs in a sequence of independent Bernoulli trials with the probability of “success” on each trial being <span class="math inline">\(p\)</span>.<br />
<span class="math display">\[
Y \sim {\rm Geometric}(p)
\]</span><br />
<span class="math display">\[
f_X(x) = (1 - p)^xp \\\\
x \in \mathbf{N}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \frac{1 - p}{p}, {\rm Var}(Y) = \frac{1 - p}{p^2}
\]</span></p></li>
<li><p><strong>Uniform Distribution</strong><br />
We define a Uniform random variable on the interval <span class="math inline">\(a &lt; x &lt; b\)</span> as what is often intuitively thought of as a “completely random” number between <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>.<br />
<span class="math display">\[
X \sim {\rm Uniform}(a, b)
\]</span><br />
<span class="math display">\[
f_X(x) = \begin{cases}
     \frac{1}{b - a} &amp; a &lt; x &lt; b \\\\
     0 &amp; \text{otherwise}
 \end{cases}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \frac{a + b}{2}, {\rm Var}(Y) = \frac{(b - a)^2}{12}
\]</span></p></li>
<li><p><strong>Exponential Distribution</strong><br />
We have defined the Exponential distribution to be the distribution of the waiting time (time between events) in a Poisson process with rate <span class="math inline">\(\lambda\)</span>.<br />
<span class="math display">\[
X \sim {\rm Exponential}(\lambda)
\]</span><br />
<span class="math display">\[
f_X(x) = \begin{cases}
     \lambda e^{-\lambda x} &amp; x &gt; 0 \\\\
     0 &amp; x \leq 0
 \end{cases}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \frac{1}{\lambda}, {\rm Var}(Y) = \frac{1}{\lambda^2}
\]</span></p></li>
<li><p><strong>Normal Distribution</strong><br />
It is probably the most important distribution in statistics, mainly because of its link with the Central Limit Theorem.<br />
<span class="math display">\[
X \sim {\rm Normal}(\mu, \sigma^2)
\]</span><br />
<span class="math display">\[
f_X(x) = \frac{1}{\sqrt{2 \pi \sigma^2}}e^{\frac{-(x - \mu)^2}{2 \sigma^2}} \\\\
x \in \mathbf{R}
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \mu, {\rm Var}(Y) = \sigma^2
\]</span></p></li>
<li><p><strong>Chi-squared Distribution</strong><br />
The Chi-squared distribution with <span class="math inline">\(\nu\)</span> degrees of freedom, <span class="math inline">\(\chi_\nu^2\)</span>, is a special case of the Gamma distribution. Note that <span class="math inline">\(\nu &gt; 0\)</span> and in many statistical settings, <span class="math inline">\(\nu\)</span> is an integer.<br />
<span class="math display">\[
Y \sim \chi_\nu^2 = {\rm Gamma}(k = \frac{\nu}{2}, \lambda = \frac{1}{2})
\]</span><br />
<span class="math display">\[
\mathbb{E}[Y] = \frac{k}{\lambda} = \nu, {\rm Var}(Y) = \frac{k}{\lambda^2} = 2 \nu
\]</span></p>
<p>Interestingly,<br />
<span class="math display">\[
{\rm Exponential}(\lambda = \frac{1}{2}) = {\rm Gamma}(k = 1, \lambda = \frac{1}{2}) = \chi_{\nu = 2}^2
\]</span></p></li>
</ol>
<h2 id="reminiscences-de-stats-201">Reminiscences de STATS 201</h2>
<h3 id="basic-data-analysis-process">Basic Data Analysis Process</h3>
<ul>
<li>Read data. <code>df = read.table(&lt;path&gt;, header = &lt;T/F&gt;)</code>.</li>
<li>Plot data. <code>plot(y ~ x, data = df)</code>.
<ul>
<li>Trendscatter plot. <code>library(s20x)</code>, <code>trendscatter(y ~ x, data = df)</code>.</li>
</ul></li>
<li>Fit model. <code>lm(y ~ x, data = df)</code>, <em>e.t.c.</em>
<ul>
<li>Verify and improve model. <code>plot(fit)</code>/<code>modelcheck(fit)</code>, <code>summary(fit)</code>.</li>
</ul></li>
<li>Predict. <code>predict(fit, newdata = data)</code>.</li>
<li>Method and assumption checks.</li>
<li>Executive summary.</li>
</ul>
<h3 id="frequently-used-regression">Frequently Used Regression</h3>
<ol type="1">
<li><p><strong>Simple Linear Regression Model</strong></p>
<ul>
<li><p><strong>Formula</strong><br />
<span class="math display">\[
y_i = \beta_0 + \beta_1 x_i + \epsilon_i \\\\
\epsilon_i \sim {\rm iid \ Normal(0, \sigma^2)}
\]</span></p></li>
<li><p><strong>Code</strong><br />
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fit <span class="operator">=</span> lm<span class="punctuation">(</span>y <span class="operator">~</span> x<span class="punctuation">,</span> data <span class="operator">=</span> df<span class="punctuation">)</span></span><br></pre></td></tr></table></figure></p></li>
</ul></li>
<li><p><strong>Quadratic Linear Regression Model</strong></p>
<ul>
<li><p><strong>Formula</strong><br />
<span class="math display">\[
y_i = \beta_0 + \beta_1 x_i + \beta_2 x_i^2 + \epsilon_i \\\\
\epsilon_i \sim {\rm iid \ Normal(0, \sigma^2)}
\]</span></p></li>
<li><p><strong>Code</strong><br />
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fit <span class="operator">=</span> lm<span class="punctuation">(</span>y <span class="operator">~</span> x <span class="operator">+</span> I<span class="punctuation">(</span>x<span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">,</span> data <span class="operator">=</span> df<span class="punctuation">)</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<p>This can be extended into polynomial situations.</p></li>
<li><p><strong>Linear Models with Categorical(Factor) Explanatory Variables</strong></p>
<ul>
<li><strong>Formula(for example)</strong><br />
<span class="math display">\[
Exam_i = \beta_0 + \beta_1 \cdot Attend.Yes_i + \epsilon_i \\\\
\epsilon_i \sim {\rm iid \ Normal(0, \sigma^2)}
\]</span></li>
<li><strong>Code</strong><br />
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">examAttend.fit <span class="operator">=</span> lm<span class="punctuation">(</span>Exam <span class="operator">~</span> Attend<span class="punctuation">,</span> data <span class="operator">=</span> Stats20x.df<span class="punctuation">)</span></span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p><strong>Multiplicative Linear Model</strong></p>
<ul>
<li><p><strong>Function</strong><br />
<span class="math display">\[
\log(y_i) = \beta_0 + \beta_1 x_i + \epsilon_i \\\\
\epsilon_i \sim {\rm iid \ Normal(0, \sigma^2)}
\]</span></p></li>
<li><p><strong>Code</strong><br />
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fit <span class="operator">=</span> lm<span class="punctuation">(</span><span class="built_in">log</span><span class="punctuation">(</span>y<span class="punctuation">)</span> <span class="operator">~</span> x<span class="punctuation">,</span> data <span class="operator">=</span> df<span class="punctuation">)</span></span><br></pre></td></tr></table></figure></p></li>
</ul></li>
<li><p><strong>Power Law Linear Model</strong></p>
<ul>
<li><strong>Formula</strong><br />
<span class="math display">\[
\log(y_i) = \beta_0 + \beta_i \log(x_i) + \epsilon_i \\\\
\epsilon_i \sim {\rm iid \ Normal(0, \sigma^2)}
\]</span></li>
</ul></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://remy-campanella.github.io">Remy Campanella</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://remy-campanella.github.io/2025/10/20/25-10-16-1-STATS330-intro/">https://remy-campanella.github.io/2025/10/20/25-10-16-1-STATS330-intro/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://remy-campanella.github.io" target="_blank">remy-campanella.github.io</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><a class="post-meta__tags" href="/tags/%E4%BB%8B%E7%BB%8D/">介绍</a><a class="post-meta__tags" href="/tags/%E7%BB%9F%E8%AE%A1%E5%AD%A6/">统计学</a><a class="post-meta__tags" href="/tags/R-%E8%AF%AD%E8%A8%80/">R 语言</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">数据科学</a><a class="post-meta__tags" href="/tags/%E5%A5%A5%E5%85%8B%E5%85%B0%E5%A4%A7%E5%AD%A6%E2%80%94%E8%A5%BF%E5%8D%97%E5%A4%A7%E5%AD%A6%E5%90%88%E4%BD%9C%E8%AF%BE%E7%A8%8B/">奥克兰大学—西南大学合作课程</a><a class="post-meta__tags" href="/tags/%E5%A4%96%E6%96%87/">外文</a></div><div class="post-share"><div class="social-share" data-image="/image/background/remy.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/10/15/25-10-15-2-SoftEng-2-feasibility/" title="【软件工程学习】 第二章 可行性研究"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">【软件工程学习】 第二章 可行性研究</div></div><div class="info-2"><div class="info-item-1">2.1 可行性研究的任务  任务 并非任何问题都有简单明显的解决办法。如果问题没有可行的解，那么花费在这项工程上的任何时间、人力、软硬件资源和经费，都是无谓的浪费。可行性研究的目的，就是用最小的代价在尽可能短的时间内确定问题是否能够解决。 分析过程  分析和澄清问题定义。 导出系统逻辑模型。 探索若干种可选的主要解法。   2.2 可行性研究过程        步骤      复查系统规模和目标 实质上是为了确保分析员正在解决的问题确实是要求他解决的问题。   研究目前正在使用的系统 新系统必须要完成旧系统的基本功能；新系统必须要解决旧系统的问题。   导出新系统的高层逻辑模型 参考现有系统的逻辑模型，设想目标系统的逻辑模型，最后根据目标系统的逻辑模型建造新的物理系统。   进一步定义问题 在之前的基础上再次定义问题，构成循环，直到提出的逻辑模型完全符合系统目标。   导出和评价供选择的解法 为每个解法考虑操作、经济方面的可行性，制定实现进度表。   推荐行动方针    草拟开发计划...</div></div></div></a><a class="pagination-related" href="/2025/10/21/25-10-21-1-HexoDev-test-post/" title="网站渲染测试"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">网站渲染测试</div></div><div class="info-2"><div class="info-item-1">这是一个用于测试网站渲染功能的帖子，如果发现异常请及时报告作者哦（如果是可选语法或标明我不常用就不用了哈）！ 一、Markdown 标题语法 1. 标准语法 一级标题  使用 HTML 标签的一级标题  二级标题  使用 HTML 标签的二级标题  三级标题  使用 HTML 标签的三级标题  四级标题  使用 HTML 标签的四级标题  五级标题  使用 HTML 标签的五级标题  六级标题  使用 HTML 标签的六级标题  2. 可选语法 一级标题 二级标题 二、Markdown 段落语法 （正文）逸一时，误一世。逸久逸久罢已龄。  （HTML 正文）逸一时，误一世。逸久逸久罢已龄。  三、Markdown 换行语法 第一段 第二段 使用行尾两空格换行 使用行尾两空格换行 使用 HTML 标签换行使用 HTML 标签换行 四、Markdown 强调语法 不好，我被星号加粗了！ 不好，我被 下划线加粗 了！（我不常用） 不好，我被HTML 加粗了！（我不常用） 不好，我被星号加斜体了！...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/10/31/25-10-16-1-STATS330-1-synthesis-glm/" title="【STATS 330】 Handout 1 A Synthesis of Generalised Linear Models"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-31</div><div class="info-item-2">【STATS 330】 Handout 1 A Synthesis of Generalised Linear Models</div></div><div class="info-2"><div class="info-item-1">Linear Regression Simple linear regression model is: \[ y_i = \beta_0 + \beta_1 x_i + \epsilon_i \\\\ \epsilon_i \sim {\rm iid \ Normal(0, \sigma^2)} \] Poisson Linear Regression Macrorhabdus Ornithogaster Chicken Analysis Textbook Page 23:      Macrorhabdus Ornithogaster Chicken Data    Data Suitable for Using Poisson Distribution The Poisson distribution better reflects the nature of the response: - It is a discrete distribution - It is right skewed (but almost symmetri...</div></div></div></a><a class="pagination-related" href="/2025/11/02/25-10-31-1-STATS330-2-explanatory/" title="【STATS 330】 Handout 2 Explanatory Terms and Interpretation"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-02</div><div class="info-item-2">【STATS 330】 Handout 2 Explanatory Terms and Interpretation</div></div><div class="info-2"><div class="info-item-1">Intepretation: Numeric Explanatory Variables Linear Regression \[ y_i = \beta_0 + \beta_1 x_i + \epsilon_i \\\\ \epsilon \sim {\rm iid \ Normal}(0, \sigma_i^2) \]  When \(x\) is zero, the expected value of the response is \(\beta_0\). For every one-unit increase in \(x\), the expected value of the response increases by \(\beta_1\).  Poisson Regression \[ \log(\mu_i) = \beta_0 + \beta_1 x_i \\\\ Y_i \sim {\rm Poisson}(\mu_i) \]  When \(x\) is zero, the expected value of the res...</div></div></div></a><a class="pagination-related" href="/2025/11/02/25-11-2-1-STATS330-3-param-esti/" title="【STATS 330】 Handout 3 Parameter Estimation for Generalised Linear Models"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-02</div><div class="info-item-2">【STATS 330】 Handout 3 Parameter Estimation for Generalised Linear Models</div></div><div class="info-2"><div class="info-item-1">Parameter Estimation Parameter estimation involves determining values for a model’s coefficients (or “parameters”) that “best” fit the data at hand.  For linear regression models, we can use the sum of the squared residuals(\(RSS\)). For generalised linear models, we can use the likelihood function(\(L(p;x)\)).  Least Squares Estimation The residual sum of squares is given by \[ RSS = \sum_{i = 1}^n (y_i - \hat{\mu_i})^2 \] The lower the \(RSS\) is, the “better” the candidate set ...</div></div></div></a><a class="pagination-related" href="/2025/11/30/25-11-30-2-STATS330-5-devi-as-gof/" title="【STATS 330】 Handout 5 Deviance as A Goodness-of-fit Statistic"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-30</div><div class="info-item-2">【STATS 330】 Handout 5 Deviance as A Goodness-of-fit Statistic</div></div><div class="info-2"><div class="info-item-1">Goodness-of-fit What is it actually? Deviance as A Goodness-of-fit Statistic A large deviance could indicate lack-of-fit. How large is too large? - If the model is correct, then, under certain conditions, the deviance comes from a \(\chi_{n - k}^2\), where \(n\) is the number of observations and \(k\) is the number of coefficients. - If it is plausible that the deviance could have come from this distribution, we have no evidence against the hypothesis that our model is correct. - If it ...</div></div></div></a><a class="pagination-related" href="/2025/11/30/25-11-30-1-STATS330-4-deviance/" title="【STATS 330】 Handout 4 Deviance"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-30</div><div class="info-item-2">【STATS 330】 Handout 4 Deviance</div></div><div class="info-2"><div class="info-item-1">Goodness-of-fit “Goodness-of-fit” is a property that describes how well the data appear to fit the model assumptions. For a GLM, they are: - The observations are independent. - \(g(\boldsymbol{\theta}) = \boldsymbol{X \beta}\); after applying the link function, the parameter of interest is a linear combination of the explanatory terms. - Each response comes from the assumed distribution. Model Complexity, Residual Sum of Squares, and Likelihood Increasing a model’s complexity will almo...</div></div></div></a><a class="pagination-related" href="/2025/12/25/25-11-10-1-COMPSCI220-14-connectivity/" title="【COMPSCI 220】 Lecture 14 Connectivity and Components"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-25</div><div class="info-item-2">【COMPSCI 220】 Lecture 14 Connectivity and Components</div></div><div class="info-2"><div class="info-item-1">Subgraph  Subgraph  Let \(E \subseteq V^2\), \(V&#39; \subseteq V\),       \(E \upharpoonright V&#39; = \{(u, v ) \in E | u, v \in V&#39;\}\)(all edges that is used by \(V&#39;\) in \(G\)).     A subgraph of \(G = (V, E)\) is a diagraph \(G&#39; = (V&#39;, E&#39;)\) where \(V&#39; \subseteq V\) and \(E&#39; \subseteq E \upharpoonright V&#39;\).     If \(E&#39; = E \upharpoonright V&#39;\), then the subgraph is an induced subgraph.    Decomposing Undirected Graphs We ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/icon/loading.gif" data-original="/image/icon/Cover.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Remy Campanella</div><div class="author-info-description">A Remy Campanella blog website on Github.</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/remy-campanella"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站介绍帖、自我介绍帖内容已移至“关于”页面，目录帖内容已移至“分类”页面。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#focus"><span class="toc-number">1.</span> <span class="toc-text">Focus</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reminiscences-de-stats-210"><span class="toc-number">2.</span> <span class="toc-text">Reminiscences de STATS 210</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#distributions"><span class="toc-number">2.1.</span> <span class="toc-text">Distributions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#frequently-used-distributions"><span class="toc-number">2.2.</span> <span class="toc-text">Frequently Used Distributions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reminiscences-de-stats-201"><span class="toc-number">3.</span> <span class="toc-text">Reminiscences de STATS 201</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#basic-data-analysis-process"><span class="toc-number">3.1.</span> <span class="toc-text">Basic Data Analysis Process</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#frequently-used-regression"><span class="toc-number">3.2.</span> <span class="toc-text">Frequently Used Regression</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/04/26-1-4-2-SoftEng-7-real/" title="【软件工程学习】 第七章 实现"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【软件工程学习】 第七章 实现"/></a><div class="content"><a class="title" href="/2026/01/04/26-1-4-2-SoftEng-7-real/" title="【软件工程学习】 第七章 实现">【软件工程学习】 第七章 实现</a><time datetime="2026-01-04T08:31:45.000Z" title="发表于 2026-01-04 16:31:45">2026-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/04/25-10-22-1-SoftEng-6-detailed-design/" title="【软件工程学习】 第六章 详细设计"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【软件工程学习】 第六章 详细设计"/></a><div class="content"><a class="title" href="/2026/01/04/25-10-22-1-SoftEng-6-detailed-design/" title="【软件工程学习】 第六章 详细设计">【软件工程学习】 第六章 详细设计</a><time datetime="2026-01-04T06:54:43.000Z" title="发表于 2026-01-04 14:54:43">2026-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/04/26-1-4-1-SoftEng-5-general-dgn/" title="【软件工程学习】 第五章 总体设计"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【软件工程学习】 第五章 总体设计"/></a><div class="content"><a class="title" href="/2026/01/04/26-1-4-1-SoftEng-5-general-dgn/" title="【软件工程学习】 第五章 总体设计">【软件工程学习】 第五章 总体设计</a><time datetime="2026-01-04T03:07:23.000Z" title="发表于 2026-01-04 11:07:23">2026-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/02/25-12-3-1-SoftEng-3-demand-aly/" title="【软件工程学习】 第三章 需求分析"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【软件工程学习】 第三章 需求分析"/></a><div class="content"><a class="title" href="/2026/01/02/25-12-3-1-SoftEng-3-demand-aly/" title="【软件工程学习】 第三章 需求分析">【软件工程学习】 第三章 需求分析</a><time datetime="2026-01-02T13:41:49.000Z" title="发表于 2026-01-02 21:41:49">2026-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/26/25-11-20-1-COMPSCI220-22-flow-net/" title="【COMPSCI 220】 Lecture 22 Flow Network"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 22 Flow Network"/></a><div class="content"><a class="title" href="/2025/12/26/25-11-20-1-COMPSCI220-22-flow-net/" title="【COMPSCI 220】 Lecture 22 Flow Network">【COMPSCI 220】 Lecture 22 Flow Network</a><time datetime="2025-12-26T13:22:55.000Z" title="发表于 2025-12-26 21:22:55">2025-12-26</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By Remy Campanella</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0</a></span></div><div class="footer_custom_text">源代码库版本 1.4.0</div></div><script type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid@9.0.0/dist/mermaid.min.js"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        loader: {
          load: [
            // Four font extension packages (optional)
            //- '[tex]/bbm',
            //- '[tex]/bboldx',
            //- '[tex]/dsfont',
            '[tex]/mhchem'
          ],
          paths: {
            'mathjax-newcm': '[mathjax]/../@mathjax/mathjax-newcm-font',

            //- // Four font extension packages (optional)
            //- 'mathjax-bbm-extension': '[mathjax]/../@mathjax/mathjax-bbm-font-extension',
            //- 'mathjax-bboldx-extension': '[mathjax]/../@mathjax/mathjax-bboldx-font-extension',
            //- 'mathjax-dsfont-extension': '[mathjax]/../@mathjax/mathjax-dsfont-font-extension',
            'mathjax-mhchem-extension': '[mathjax]/../@mathjax/mathjax-mhchem-font-extension'
          }
        },
        output: {
          font: 'mathjax-newcm',
        },
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
          packages: {
            '[+]': [
              'mhchem'
            ]
          }
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          menuOptions: {
            settings: {
              enrich: false  // Turn off Braille and voice narration text automatic generation
            }
          },
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://unpkg.com/mathjax@4.0.0/tex-mml-chtml.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://unpkg.com/mermaid@11.11.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start -->
    <script src="/js/gallery.js" async></script>
<!-- hexo injector body_end end -->
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 2,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>