<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【计算机组成原理学习】 第二章 数据的机器层次表示 | remy-campanella.github.io</title><meta name="author" content="Remy Campanella"><meta name="copyright" content="Remy Campanella"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="2.1 数值数据的表示   无符号数 整个机器字长全部二进制位位数值位。 范围$[0, 2^n - 1]$。   原码 将最高位设为符号位，其余位数值位，与真值相同。 其中，$[+0]_原 &#x3D; 00000$，$[-0]_原 &#x3D; 10000$。 原码实现乘除简单，实现加减复杂。 范围$[-(2^{n - 1} - 1), 2^{n - 1} - 1]$。   补码 正数补码与原码相同，负数补码为真值">
<meta property="og:type" content="article">
<meta property="og:title" content="【计算机组成原理学习】 第二章 数据的机器层次表示">
<meta property="og:url" content="https://remy-campanella.github.io/2025/10/15/25-10-14-2-CompOrg-data-represent/index.html">
<meta property="og:site_name" content="remy-campanella.github.io">
<meta property="og:description" content="2.1 数值数据的表示   无符号数 整个机器字长全部二进制位位数值位。 范围$[0, 2^n - 1]$。   原码 将最高位设为符号位，其余位数值位，与真值相同。 其中，$[+0]_原 &#x3D; 00000$，$[-0]_原 &#x3D; 10000$。 原码实现乘除简单，实现加减复杂。 范围$[-(2^{n - 1} - 1), 2^{n - 1} - 1]$。   补码 正数补码与原码相同，负数补码为真值">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://remy-campanella.github.io/image/background/remy.jpg">
<meta property="article:published_time" content="2025-10-15T13:40:58.000Z">
<meta property="article:modified_time" content="2025-10-23T02:18:41.594Z">
<meta property="article:author" content="Remy Campanella">
<meta property="article:tag" content="计算机组成原理">
<meta property="article:tag" content="学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://remy-campanella.github.io/image/background/remy.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【计算机组成原理学习】 第二章 数据的机器层次表示",
  "url": "https://remy-campanella.github.io/2025/10/15/25-10-14-2-CompOrg-data-represent/",
  "image": "https://remy-campanella.github.io/image/background/remy.jpg",
  "datePublished": "2025-10-15T13:40:58.000Z",
  "dateModified": "2025-10-23T02:18:41.594Z",
  "author": [
    {
      "@type": "Person",
      "name": "Remy Campanella",
      "url": "https://remy-campanella.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/image/icon/icon.png"><link rel="canonical" href="https://remy-campanella.github.io/2025/10/15/25-10-14-2-CompOrg-data-represent/index.html"><link rel="preconnect" href="https://unpkg.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@7.0.1/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://unpkg.com/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【计算机组成原理学习】 第二章 数据的机器层次表示',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/scripts/css/font.css"><!-- hexo injector head_end start -->
    <link rel="stylesheet" href="/css/gallery.css" media="print" onload="this.media='all'">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/icon/loading.gif" data-original="/image/icon/Cover.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about"><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/album"><span> 图库</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/image/background/remy.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/image/icon/loading.gif" data-original="/image/icon/icon.png" alt="Logo"><span class="site-name">remy-campanella.github.io</span></a><a class="nav-page-title" href="/"><span class="site-name">【计算机组成原理学习】 第二章 数据的机器层次表示</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about"><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/album"><span> 图库</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【计算机组成原理学习】 第二章 数据的机器层次表示</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-15T13:40:58.000Z" title="发表于 2025-10-15 21:40:58">2025-10-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-23T02:18:41.594Z" title="更新于 2025-10-23 10:18:41">2025-10-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AD%A6%E4%B9%A0/">学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="2-1-数值数据的表示">2.1 数值数据的表示</h2>
<ol>
<li class="lvl-3">
<p><strong>无符号数</strong><br>
整个机器字长全部二进制位位数值位。<br>
范围$[0, 2^n - 1]$。</p>
</li>
<li class="lvl-3">
<p><strong>原码</strong><br>
将最高位设为符号位，其余位数值位，与真值相同。<br>
其中，$[+0]_原 = 00000$，$[-0]_原 = 10000$。<br>
原码实现乘除简单，实现加减复杂。<br>
范围$[-(2^{n - 1} - 1), 2^{n - 1} - 1]$。</p>
</li>
<li class="lvl-3">
<p><strong>补码</strong><br>
正数补码与原码相同，负数补码为真值数值按位取反，在最低位加 1。其中，$[+0]_补 = [-0]_补 = 00000$。<br>
范围$[-2^{n - 1}, 2^{n - 1} - 1]$。</p>
</li>
<li class="lvl-3">
<p><strong>反码</strong><br>
正数反码与原码相同，负数补码为真值数值按位取反。其中，$[+0]_原 = 00000$，$[-0]_原 = 11111$。<br>
范围$[-(2^{n - 1} - 1), 2^{n - 1} - 1]$。</p>
</li>
</ol>
<h2 id="2-2-机器数的定点表示与浮点表示">2.2 机器数的定点表示与浮点表示</h2>
<ol>
<li class="lvl-3">
<p><strong>定点小数</strong><br>
即纯小数（$-1 &lt; x &lt; 1$），小数点位置固定，整数位被取代为符号位。设机器字长$n + 1$位，原码、反码范围$[-(1 - 2^{-n}), 1 - 2^{-n}]$，补码$[-1, 1 - 2^{-n}]$。</p>
</li>
<li class="lvl-3">
<p><strong>定点整数</strong><br>
纯整数（$\mathbb{Z}$），小数点位置固定。</p>
</li>
<li class="lvl-3">
<p><strong>浮点数</strong><br>
浮点数$N$为<br>
$$<br>
N = M \cdot r^E<br>
$$<br>
$E$为<strong>阶码（Exponent）</strong>，M为<strong>尾数（Mantissa）</strong>，$r$为阶码的<strong>底</strong>，暂取$r = 2$。</p>
<center><img src="/image/icon/loading.gif" data-original="/image/Summaries/1757250188210.png" width = "300" height = "130" alt="兼容性示意" align=center /></center>
</li>
<li class="lvl-3">
<p><strong>规格化浮点数</strong><br>
为充分利用尾数有效位，规定规格化浮点数尾数最高位必须有效，即<br>
$$<br>
|M| \in [\frac{1}{r}, 1)<br>
$$</p>
<blockquote>
<p>$\frac{1}{2}$的原码为规格化数，补码不是；$-1$无法用原码表示，补码为规格化数。</p>
</blockquote>
<p>浮点数典型值<br>
<img src="/image/icon/loading.gif" data-original="/image/Summaries/1757676990902.png" alt="1757676990902"></p>
</li>
<li class="lvl-3">
<p><strong>浮点数阶码的移码表示法</strong></p>
<ul class="lvl-2">
<li class="lvl-5">移码<br>
移码可将带符号数映射到正数域。<br>
$$<br>
[X]_移 = X + 偏置值<br>
$$<br>
设补码长度为$n$位，偏置值则为$2^n$，即<center><img src="/image/icon/loading.gif" data-original="/image/Summaries/1757677423598.png" width = "300" height = "165" alt="移码和真值的映射" align=center /></center>
</li>
<li class="lvl-5">移码的性质
<ul class="lvl-4">
<li class="lvl-7">最高位为$0$表示复数，最高位为$1$表示正数。</li>
<li class="lvl-7">$[+0]_移 = [-0]_移 = 10000000$</li>
<li class="lvl-7">可将移码视为无符号数，直接按无符号数规则比较大小。</li>
<li class="lvl-7">将某数的补码最高位取反即可得移码。</li>
</ul>
</li>
<li class="lvl-5">作用
<ul class="lvl-4">
<li class="lvl-7">便于比较浮点数大小。</li>
<li class="lvl-7">简化判零电路。</li>
</ul>
</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>尾数基数$r$</strong></p>
<ul class="lvl-2">
<li class="lvl-5">尾数基数可影响
<ul class="lvl-4">
<li class="lvl-7">可表示数得范围。</li>
<li class="lvl-7">数在数轴上的分布。</li>
<li class="lvl-7">可表示数的精度。</li>
<li class="lvl-7">运算的精度损失</li>
</ul>
</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>IEEE 754 标准浮点数</strong></p>
<ul class="lvl-2">
<li class="lvl-5">格式<br>
<img src="/image/icon/loading.gif" data-original="/image/Summaries/1757678303857.png" alt="1757678303857"></li>
<li class="lvl-5">三种浮点数<br>
<img src="/image/icon/loading.gif" data-original="/image/Summaries/1757678382268.png" alt="1757678382268"><br>
注意，偏置值为$2^{n - 1} - 1$，$n$为阶码长度。<br>
对于规格化的二进制浮点数，最高数值位总是$1$，可隐含尾数数值长度实际为$24$、$53$、$65$位。</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>IEEE 754 标准浮点数（十六进制写法）与十进制数的互相转化</strong></p>
<ul class="lvl-2">
<li class="lvl-5">将十进制数转为短浮点数
<ul class="lvl-4">
<li class="lvl-7">把十进制数转换为二进制数（非标准）。</li>
<li class="lvl-7">规格化。</li>
<li class="lvl-7">计算阶码的移码（偏置值 + 阶码真值）。</li>
<li class="lvl-7">以尾数符号、阶码移码、<strong>尾数数值（去除需隐含的位）</strong> 的顺序拼接二进制数。</li>
<li class="lvl-7">四位为一组，写出十六进制数。</li>
</ul>
</li>
<li class="lvl-5">将短浮点数转为十六进制数
<ul class="lvl-4">
<li class="lvl-7">将十六进制数写为二进制数，分离出尾数符号、阶码移码、<strong>尾数数值（无需隐含的位）</strong>。</li>
<li class="lvl-7">计算阶码真值。</li>
<li class="lvl-7">写出规格化二进制数（<strong>原隐含位与尾数数值合并</strong>）。</li>
<li class="lvl-7">非规格化（尾数与乘方合并，即移位）。</li>
<li class="lvl-7">转换位十进制数。</li>
<li class="lvl-7">加上符号。</li>
</ul>
</li>
</ul>
<p>IEEE 754 短浮点数与规格化浮点数$v$的关系<br>
$$<br>
v = (-1)^S \cdot (1.f) \cdot 2^{E - 127}<br>
$$<br>
$S$为符号位，$E$为移码阶码，$f$为尾数小数部分。</p>
</li>
<li class="lvl-3">
<p><strong>定点、浮点表示法与定点、浮点计算机</strong></p>
<ul class="lvl-2">
<li class="lvl-5">定点、浮点表示法的区别
<table>
<thead>
<tr>
<th></th>
<th>定点表示法</th>
<th>浮点表示法</th>
</tr>
</thead>
<tbody>
<tr>
<td>数值范围</td>
<td>小，分布均匀</td>
<td>大，越靠近原点越密集</td>
</tr>
<tr>
<td>精度（等字长）</td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td>运算</td>
<td>简单</td>
<td>复杂</td>
</tr>
<tr>
<td>溢出处理</td>
<td>超出表示范围一定溢出</td>
<td>超出尾数范围不一定溢出，阶码范围也超出时才溢出</td>
</tr>
</tbody>
</table>
</li>
<li class="lvl-5">定点机与浮点机
<ul class="lvl-4">
<li class="lvl-7">定点机：所有操作均为定点数，浮点运算需借助软件子程序。</li>
<li class="lvl-7">定点机 + 浮点运算部件</li>
<li class="lvl-7">浮点机：具有浮点运算指令与基本浮点运算器。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="2-3-非数值数据的表示">2.3 非数值数据的表示</h2>
<ol>
<li class="lvl-3">
<p><strong>字符、字符串的表示</strong></p>
<ul class="lvl-2">
<li class="lvl-5">ASCII：7 位二进制。</li>
<li class="lvl-5">存放
<ul class="lvl-4">
<li class="lvl-7">向量存放法：最简单、最节省空间。</li>
<li class="lvl-7">串表法：链表形式，但主存利用率下降。</li>
</ul>
</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>汉字编码</strong></p>
<ul class="lvl-2">
<li class="lvl-5">GB 2312—80（国标码）：两个字节，用低七位编码。</li>
<li class="lvl-5">区位码：区号—位号（十六进制）。关系<br>
$$<br>
国标码 = 区位码（十六进制）+ 2020\rm H<br>
$$</li>
<li class="lvl-5">机内码：处理中西文兼容。<br>
$$<br>
机内码 = 国标码 + 8080\rm H<br>
$$</li>
<li class="lvl-5">字形码：汉字点阵中，笔画索道之处记为$1$。</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>统一代码（Unicode）</strong></p>
</li>
</ol>
<h2 id="2-4-十进制数与数串的表示">2.4 十进制数与数串的表示</h2>
<ol>
<li class="lvl-3">
<p><strong>二进制编码的十进制数（Binary Code Decimal，BCD）</strong><br>
<img src="/image/icon/loading.gif" data-original="/image/Summaries/1757683990139.png" alt="1757683990139"></p>
<ul class="lvl-2">
<li class="lvl-5">8421 码：1010~1111为非法码。</li>
<li class="lvl-5">2421 码
<ul class="lvl-4">
<li class="lvl-7">对 9 的自补码：自身按位取反得到该数对 9 的补数。</li>
<li class="lvl-7">0101~1010为非法码。</li>
</ul>
</li>
<li class="lvl-5">余 3 码：一种无权码，为 8421 码加 0011。</li>
<li class="lvl-5">Gray 码
<ul class="lvl-4">
<li class="lvl-7">无权码</li>
<li class="lvl-7">相邻两个码只有一位不同。</li>
<li class="lvl-7">首尾两个码也只有一位不同。</li>
<li class="lvl-7">非法码视具体方案而定。</li>
</ul>
</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>十进制数串</strong></p>
<ul class="lvl-2">
<li class="lvl-5">非压缩的十进制数串<br>
即字符串，一个字节存放一个十进制数或符号 ASCII 码。
<ul class="lvl-4">
<li class="lvl-7">前分隔式数字串：符号位占用单独一个字节，放在数值位之前，正号 ASCII 码为<code>2BH</code>，负号为<code>2DH</code>。</li>
<li class="lvl-7">后嵌入式字符串：正数不变，负数将<code>40H</code>与最低数值位相加，数字 0~9 编码为 <code>70H</code>~<code>79H</code>。非压缩的十进制数串主要用于非数值处理。</li>
</ul>
</li>
<li class="lvl-5">压缩的十进制数串<br>
一个字节存放两位 BCD 码表示的十进制数，一个压缩的十进制数串占用连续的多字节，符号位占半字节，存放在最低数值位之后。</li>
</ul>
</li>
</ol>
<h2 id="2-5-不同类型的数据表示举例">2.5 不同类型的数据表示举例</h2>
<ol>
<li class="lvl-3">
<p><strong>C 语言</strong></p>
</li>
<li class="lvl-3">
<p><strong>现代微型计算机系统中的数据表示</strong></p>
</li>
</ol>
<h2 id="2-6-数据校验码">2.6 数据校验码</h2>
<ol>
<li class="lvl-3">
<p><strong>奇偶校验</strong></p>
<ul class="lvl-2">
<li class="lvl-5">在有效信息前加一个校验位，得到校验码。</li>
<li class="lvl-5">校验位将使校验码中1的个数位奇数（奇校验）或偶数（偶校验）。奇校验不存在全 0 代码，使用更多</li>
<li class="lvl-5">校验出错时，表明一定有错，但不知何处出错。</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>交叉奇偶校验</strong><br>
不仅每一个字节有奇偶校验，全部字节同一位也设置一个奇偶校验位置做纵向校验。可以发现两位同时出错的情况。</p>
</li>
<li class="lvl-3">
<p><strong>汉明（Hamming）校验码</strong><br>
在有效信息位中插入几个校验位形成汉明码，使码距较均匀地拉大，并把每一个二进制位分配到几个就校验组中。某一位出错时可引起几个校验位地值发生变化。</p>
</li>
<li class="lvl-3">
<p><strong>循环冗余校验码（Cyclic Redundancy Check, CRC）</strong></p>
<center><img src="/image/icon/loading.gif" data-original="/image/Summaries/1757750927649.png" width = "300" height = "168" alt="移码和真值的映射" align=center /></center>  
<ul class="lvl-2">
<li class="lvl-5">把带编码的$N$位有效信息表示为多项式$M(X)$。</li>
<li class="lvl-5">将$M(X)$左移$K$位得$M(X) \cdot X^K$，再用另一个约定得多项式$G(X)$（$K + 1$位）去除，得到余数$R(X)$，与有效位拼接后得到CRC。</li>
<li class="lvl-5">余数与出错位序号之间有唯一关系。</li>
<li class="lvl-5">生成多项式的选择
<ul class="lvl-4">
<li class="lvl-7">任何一位发生错误都使余数不为$0$。</li>
<li class="lvl-7">不同位发生错误使余数不同。</li>
<li class="lvl-7">对余数做模$2$除法，应使余数循环。</li>
</ul>
</li>
</ul>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://remy-campanella.github.io">Remy Campanella</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://remy-campanella.github.io/2025/10/15/25-10-14-2-CompOrg-data-represent/">https://remy-campanella.github.io/2025/10/15/25-10-14-2-CompOrg-data-represent/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://remy-campanella.github.io" target="_blank">remy-campanella.github.io</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></div><div class="post-share"><div class="social-share" data-image="/image/background/remy.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/10/15/25-10-14-3-CompOrg-command-system/" title="【计算机组成原理学习】 第三章 指令系统"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">【计算机组成原理学习】 第三章 指令系统</div></div><div class="info-2"><div class="info-item-1">3.1 指令格式   基本格式          操作码字段 地址码字段      地址码结构 对于一般的双操作数运算指令，除去操作码（Operation Code），还包含  第一操作数地址 $A_1$， 第二操作数地址 $A_2$， 操作结果存放地址 $A_3$， 下一条指令地址 $A_4$。    指令结构   四地址指令  含义：$(A_1) OP (A_2) \rightarrow A_3$ 直观，但太长，不实际。    三地址指令  含义：$(A_1) OP (A_2) \rightarrow A_3$，$(PC) + 1 \rightarrow PC$ 每执行一条指令，程序计数器（PC） 自增。 仍然较长，在大、中型计算机使用。 适用于向量、矩阵运算。    二地址指令  含义：$(A_1) OP (A_2) \rightarrow A_1$，$\rm (PC) + 1 \rightarrow PC$ $A_1$ 为目的操作数地址，$A_2$为源操作数地址。$A_1$中原内容会被破坏。 至少需要访问四次主存。    一地址指令  含义：$(Acc) OP (A_1)...</div></div></div></a><a class="pagination-related" href="/2025/10/15/25-10-14-1-CompOrg-intro/" title="【计算机组成原理学习】 第一章 概论"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">【计算机组成原理学习】 第一章 概论</div></div><div class="info-2"><div class="info-item-1">教材 计算机组成原理（第四版） 蒋本珊 清华大学出版社 第一章 概论 1.1 电子计算机与存储程序控制   存储程序的计算机 世界上第一台数字计算机：美国 ENIAC（1946）。早期存储程序控制的计算机：美国 EDVAC（Von Neumann, 1951），英国 EDSAC（1949）。   存储程序概念（Von Neumann, 1945）  计算机硬件应由五大基本部件组成。 计算机内部采用二进制表示指令和数据。 将程序与原始数据存入存储器中，在启动计算机工作。    1.2 计算机的硬件组成   计算机的主要部件          输入设备 将人们编好的程序和原始数据输送到计算机中，并将其转化为计算机内部所能识别和接受的信息方式的部件   输出设备 将计算机的处理结果以人或其他设备所能接收的形式送出计算机的设备   存储器 用于存放程序和数据的部件   运算器 对信息进行处理和运算的部件，又称算数逻辑运算部件（Arithmetic and Logical Unit, ALU）   控制器 按照人们预先确定的操作步骤，控制整个计算机各部件有条不紊地自动工作地部件      ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/10/15/25-10-14-1-CompOrg-intro/" title="【计算机组成原理学习】 第一章 概论"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-15</div><div class="info-item-2">【计算机组成原理学习】 第一章 概论</div></div><div class="info-2"><div class="info-item-1">教材 计算机组成原理（第四版） 蒋本珊 清华大学出版社 第一章 概论 1.1 电子计算机与存储程序控制   存储程序的计算机 世界上第一台数字计算机：美国 ENIAC（1946）。早期存储程序控制的计算机：美国 EDVAC（Von Neumann, 1951），英国 EDSAC（1949）。   存储程序概念（Von Neumann, 1945）  计算机硬件应由五大基本部件组成。 计算机内部采用二进制表示指令和数据。 将程序与原始数据存入存储器中，在启动计算机工作。    1.2 计算机的硬件组成   计算机的主要部件          输入设备 将人们编好的程序和原始数据输送到计算机中，并将其转化为计算机内部所能识别和接受的信息方式的部件   输出设备 将计算机的处理结果以人或其他设备所能接收的形式送出计算机的设备   存储器 用于存放程序和数据的部件   运算器 对信息进行处理和运算的部件，又称算数逻辑运算部件（Arithmetic and Logical Unit, ALU）   控制器 按照人们预先确定的操作步骤，控制整个计算机各部件有条不紊地自动工作地部件      ...</div></div></div></a><a class="pagination-related" href="/2025/10/15/25-10-14-3-CompOrg-command-system/" title="【计算机组成原理学习】 第三章 指令系统"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-15</div><div class="info-item-2">【计算机组成原理学习】 第三章 指令系统</div></div><div class="info-2"><div class="info-item-1">3.1 指令格式   基本格式          操作码字段 地址码字段      地址码结构 对于一般的双操作数运算指令，除去操作码（Operation Code），还包含  第一操作数地址 $A_1$， 第二操作数地址 $A_2$， 操作结果存放地址 $A_3$， 下一条指令地址 $A_4$。    指令结构   四地址指令  含义：$(A_1) OP (A_2) \rightarrow A_3$ 直观，但太长，不实际。    三地址指令  含义：$(A_1) OP (A_2) \rightarrow A_3$，$(PC) + 1 \rightarrow PC$ 每执行一条指令，程序计数器（PC） 自增。 仍然较长，在大、中型计算机使用。 适用于向量、矩阵运算。    二地址指令  含义：$(A_1) OP (A_2) \rightarrow A_1$，$\rm (PC) + 1 \rightarrow PC$ $A_1$ 为目的操作数地址，$A_2$为源操作数地址。$A_1$中原内容会被破坏。 至少需要访问四次主存。    一地址指令  含义：$(Acc) OP (A_1)...</div></div></div></a><a class="pagination-related" href="/2025/10/15/25-10-15-1-SoftEng-intro/" title="【软件工程学习】 第一章 软件工程概述"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-15</div><div class="info-item-2">【软件工程学习】 第一章 软件工程概述</div></div><div class="info-2"><div class="info-item-1">一、软件工程的价值与应用场景  实际用途：  国家考试（如软考）、工作面试（如亚麻面试）、毕业设计、读研。 参与需求分析、撰写需求/设计报告、招标书/投标书、项目申请书。 开发原型（需掌握原型工具）、开发软件（需学习开发框架）。 绘制模型图/流程图、AI开发APP等。   工作场景：  文档撰写、模型设计、原型开发、前后端分离开发、系统设计等。    二、软件工程学科与教材分析   经典教材：  《Software Engineering: A Practitioner’s Approach》（2020年）：涵盖软件过程、建模、质量、项目管理等。 《软件工程导论》（2013年）：传统生命周期与面向对象方法。 《面向对象软件工程：敏捷统一方法》（2014/2023年）：强调领域建模、架构设计、交互建模等。 《软件工程：谷歌的实践》（2022年）：聚焦文化、流程、工具（如代码评审、CI/CD）。    学科演变：  从传统软件工程→面向对象→敏捷开发→系统工程。 新趋势：低代码、AI开发、产品化（从Project到Product）。    三、软件工程核心内容   关键主题：  需求...</div></div></div></a><a class="pagination-related" href="/2025/10/15/25-10-15-2-SoftEng-feasibility/" title="【软件工程学习】 第二章 可行性研究"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-15</div><div class="info-item-2">【软件工程学习】 第二章 可行性研究</div></div><div class="info-2"><div class="info-item-1">一、系统流程图 系统流程图是概括地描绘物理系统的传统工具。   符号    示例    二、数据流图 数据流图是一种图形化技术，它描绘信息流和数据从输入移动到输出所经受的变换。   符号    示例    </div></div></div></a><a class="pagination-related" href="/2025/10/31/25-10-16-1-STATS330-synthesis-glm/" title="【STATS 330】 Handout 1 A Synthesis of Generalised Linear Models"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-31</div><div class="info-item-2">【STATS 330】 Handout 1 A Synthesis of Generalised Linear Models</div></div><div class="info-2"><div class="info-item-1">Linear Regression Simple linear regression model is: $$ y_i = \beta_0 + \beta_1 x_i + \epsilon_i \\ \epsilon_i \sim {\rm iid \ Normal(0, \sigma^2)} $$ Poisson Linear Regression Macrorhabdus Ornithogaster Chicken Analysis Textbook Page 23:  Macrorhabdus Ornithogaster Chicken Data Data Suitable for Using Poisson Distribution The Poisson distribution better reflects the nature of the response:   It is a discrete distribution   It is right skewed (but almost symmetric when µ is large)   It does n...</div></div></div></a><a class="pagination-related" href="/2025/11/19/25-11-19-1-COMPSCI220-asym-not/" title="【COMPSCI 220】Lecture 4 Asymptotic notations"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-19</div><div class="info-item-2">【COMPSCI 220】Lecture 4 Asymptotic notations</div></div><div class="info-2"><div class="info-item-1">Dominance Relation The dominance relation of the frequently used classes: $$ 1 \prec \log n \prec (\log n)^2 \prec n \prec n \log n \prec n^2 \prec n^2 \log n \prec n^3 \prec \cdots \prec 2^n \prec n! $$ Asymptotic Notation Define $$ f(n) \prec g(n) \Leftrightarrow f(n) = O(g(n)) \ g(n) \prec f(n) \Leftrightarrow f(n) = \Omega(g(n)) \ f(n) = O(g(n)), f(n) = \Omega(g(n)) \Leftrightarrow f(n) = \Theta(g(n)) $$    Notation Read     $O$ asymptotic upper bound   $\Omega$ asymptotic lower bound   $...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/icon/loading.gif" data-original="/image/icon/Cover.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Remy Campanella</div><div class="author-info-description">A Remy Campanella blog website on Github.</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/remy-campanella"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站介绍帖、自我介绍帖内容已移至“关于”页面，目录帖内容已移至“分类”页面。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E6%95%B0%E5%80%BC%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">1.</span> <span class="toc-text">2.1 数值数据的表示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E6%9C%BA%E5%99%A8%E6%95%B0%E7%9A%84%E5%AE%9A%E7%82%B9%E8%A1%A8%E7%A4%BA%E4%B8%8E%E6%B5%AE%E7%82%B9%E8%A1%A8%E7%A4%BA"><span class="toc-number">2.</span> <span class="toc-text">2.2 机器数的定点表示与浮点表示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E9%9D%9E%E6%95%B0%E5%80%BC%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">3.</span> <span class="toc-text">2.3 非数值数据的表示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E5%8D%81%E8%BF%9B%E5%88%B6%E6%95%B0%E4%B8%8E%E6%95%B0%E4%B8%B2%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">4.</span> <span class="toc-text">2.4 十进制数与数串的表示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA%E4%B8%BE%E4%BE%8B"><span class="toc-number">5.</span> <span class="toc-text">2.5 不同类型的数据表示举例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C%E7%A0%81"><span class="toc-number">6.</span> <span class="toc-text">2.6 数据校验码</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/11/19/25-11-19-1-COMPSCI220-asym-not/" title="【COMPSCI 220】Lecture 4 Asymptotic notations"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】Lecture 4 Asymptotic notations"/></a><div class="content"><a class="title" href="/2025/11/19/25-11-19-1-COMPSCI220-asym-not/" title="【COMPSCI 220】Lecture 4 Asymptotic notations">【COMPSCI 220】Lecture 4 Asymptotic notations</a><time datetime="2025-11-19T01:13:20.000Z" title="发表于 2025-11-19 09:13:20">2025-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/19/25-11-4-3-COMSCI220-esti-run-time/" title="【COMPSCI 220】 Lecture 3 How to Estimate Running Time?"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 3 How to Estimate Running Time?"/></a><div class="content"><a class="title" href="/2025/11/19/25-11-4-3-COMSCI220-esti-run-time/" title="【COMPSCI 220】 Lecture 3 How to Estimate Running Time?">【COMPSCI 220】 Lecture 3 How to Estimate Running Time?</a><time datetime="2025-11-19T00:38:52.000Z" title="发表于 2025-11-19 08:38:52">2025-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/19/25-11-4-2-COMPSCI220-run-time/" title="【COMPSCI 220】 Lecture 2 How to Measure Running Time?"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 2 How to Measure Running Time?"/></a><div class="content"><a class="title" href="/2025/11/19/25-11-4-2-COMPSCI220-run-time/" title="【COMPSCI 220】 Lecture 2 How to Measure Running Time?">【COMPSCI 220】 Lecture 2 How to Measure Running Time?</a><time datetime="2025-11-19T00:12:57.000Z" title="发表于 2025-11-19 08:12:57">2025-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/19/25-11-4-1-COMPSCI220-intro/" title="【COMPSCI 220】 Lecture 1 What is a Algorithm and Why Analyse It?"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 1 What is a Algorithm and Why Analyse It?"/></a><div class="content"><a class="title" href="/2025/11/19/25-11-4-1-COMPSCI220-intro/" title="【COMPSCI 220】 Lecture 1 What is a Algorithm and Why Analyse It?">【COMPSCI 220】 Lecture 1 What is a Algorithm and Why Analyse It?</a><time datetime="2025-11-19T00:05:38.000Z" title="发表于 2025-11-19 08:05:38">2025-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/05/25-11-5-14-OpSys-sema-tube/" title="【操作系统原理】 Lecture 18 信号量与管程"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【操作系统原理】 Lecture 18 信号量与管程"/></a><div class="content"><a class="title" href="/2025/11/05/25-11-5-14-OpSys-sema-tube/" title="【操作系统原理】 Lecture 18 信号量与管程">【操作系统原理】 Lecture 18 信号量与管程</a><time datetime="2025-11-05T01:36:42.000Z" title="发表于 2025-11-05 09:36:42">2025-11-05</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Remy Campanella</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0</a></span></div><div class="footer_custom_text">源代码库版本 1.4.0</div></div><script type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid@9.0.0/dist/mermaid.min.js"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        loader: {
          load: [
            // Four font extension packages (optional)
            //- '[tex]/bbm',
            //- '[tex]/bboldx',
            //- '[tex]/dsfont',
            '[tex]/mhchem'
          ],
          paths: {
            'mathjax-newcm': '[mathjax]/../@mathjax/mathjax-newcm-font',

            //- // Four font extension packages (optional)
            //- 'mathjax-bbm-extension': '[mathjax]/../@mathjax/mathjax-bbm-font-extension',
            //- 'mathjax-bboldx-extension': '[mathjax]/../@mathjax/mathjax-bboldx-font-extension',
            //- 'mathjax-dsfont-extension': '[mathjax]/../@mathjax/mathjax-dsfont-font-extension',
            'mathjax-mhchem-extension': '[mathjax]/../@mathjax/mathjax-mhchem-font-extension'
          }
        },
        output: {
          font: 'mathjax-newcm',
        },
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
          packages: {
            '[+]': [
              'mhchem'
            ]
          }
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          menuOptions: {
            settings: {
              enrich: false  // Turn off Braille and voice narration text automatic generation
            }
          },
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://unpkg.com/mathjax@4.0.0/tex-mml-chtml.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://unpkg.com/mermaid@11.11.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start -->
    <script src="/js/gallery.js" async></script>
<!-- hexo injector body_end end -->
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 2,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>