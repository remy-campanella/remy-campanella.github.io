<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm | remy-campanella.github.io</title><meta name="author" content="Remy Campanella"><meta name="copyright" content="Remy Campanella"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Standard Matrix Multiplication Algorithm Let  A&#x3D;[a11a12a13a21a22a23a31a32a33],B&#x3D;[b11b12b13b21b22b23b31b32b33] then \[ \mathbf{C} &#x3D; \mathbf{A} \mathbf{B}, c_{ij} &#x3D; \sum_{k &#x3D; 1}^3 a_{ik}b_{kj} \]">
<meta property="og:type" content="article">
<meta property="og:title" content="【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm">
<meta property="og:url" content="https://remy-campanella.github.io/2025/12/22/25-11-3-1-COMPSCI220-8-matrix/index.html">
<meta property="og:site_name" content="remy-campanella.github.io">
<meta property="og:description" content="Standard Matrix Multiplication Algorithm Let  A&#x3D;[a11a12a13a21a22a23a31a32a33],B&#x3D;[b11b12b13b21b22b23b31b32b33] then \[ \mathbf{C} &#x3D; \mathbf{A} \mathbf{B}, c_{ij} &#x3D; \sum_{k &#x3D; 1}^3 a_{ik}b_{kj} \]">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://remy-campanella.github.io/image/background/remy.jpg">
<meta property="article:published_time" content="2025-12-22T05:16:46.000Z">
<meta property="article:modified_time" content="2025-12-22T05:16:46.376Z">
<meta property="article:author" content="Remy Campanella">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="奥克兰大学—西南大学合作课程">
<meta property="article:tag" content="外文">
<meta property="article:tag" content="算法分析与设计">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://remy-campanella.github.io/image/background/remy.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm",
  "url": "https://remy-campanella.github.io/2025/12/22/25-11-3-1-COMPSCI220-8-matrix/",
  "image": "https://remy-campanella.github.io/image/background/remy.jpg",
  "datePublished": "2025-12-22T05:16:46.000Z",
  "dateModified": "2025-12-22T05:16:46.376Z",
  "author": [
    {
      "@type": "Person",
      "name": "Remy Campanella",
      "url": "https://remy-campanella.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/image/icon/icon.png"><link rel="canonical" href="https://remy-campanella.github.io/2025/12/22/25-11-3-1-COMPSCI220-8-matrix/index.html"><link rel="preconnect" href="https://unpkg.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@7.0.1/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://unpkg.com/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/scripts/css/font.css"><!-- hexo injector head_end start -->
    <link rel="stylesheet" href="/css/gallery.css" media="print" onload="this.media='all'">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/icon/loading.gif" data-original="/image/icon/Cover.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about"><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/album"><span> 图库</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/image/background/remy.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/image/icon/loading.gif" data-original="/image/icon/icon.png" alt="Logo"><span class="site-name">remy-campanella.github.io</span></a><a class="nav-page-title" href="/"><span class="site-name">【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/about"><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/album"><span> 图库</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-12-22T05:16:46.000Z" title="发表于 2025-12-22 13:16:46">2025-12-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-22T05:16:46.376Z" title="更新于 2025-12-22 13:16:46">2025-12-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AD%A6%E4%B9%A0/">学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AD%A6%E4%B9%A0/COMPSCI-220-Algorithms-and-Data-Structures/">COMPSCI 220 Algorithms and Data Structures</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="standard-matrix-multiplication-algorithm">Standard Matrix
Multiplication Algorithm</h2>
<p>Let <!-- $$
\mathbf{A} = \begin{bmatrix}
a_{11} & a_{12} & a_{13} \\
a_{21} & a_{22} & a_{23} \\
a_{31} & a_{32} & a_{33}
\end{bmatrix}, 
\mathbf{B} = \begin{bmatrix}
b_{11} & b_{12} & b_{13} \\
b_{21} & b_{22} & b_{23} \\
b_{31} & b_{32} & b_{33}
\end{bmatrix}
$$ --></p>
<p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mi mathvariant="bold">A</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mi>a</mi><mrow><mn>11</mn></mrow></msub></mtd><mtd><msub><mi>a</mi><mrow><mn>12</mn></mrow></msub></mtd><mtd><msub><mi>a</mi><mrow><mn>13</mn></mrow></msub></mtd></mtr><mtr><mtd><msub><mi>a</mi><mrow><mn>21</mn></mrow></msub></mtd><mtd><msub><mi>a</mi><mrow><mn>22</mn></mrow></msub></mtd><mtd><msub><mi>a</mi><mrow><mn>23</mn></mrow></msub></mtd></mtr><mtr><mtd><msub><mi>a</mi><mrow><mn>31</mn></mrow></msub></mtd><mtd><msub><mi>a</mi><mrow><mn>32</mn></mrow></msub></mtd><mtd><msub><mi>a</mi><mrow><mn>33</mn></mrow></msub></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>,</mo><mrow><mi mathvariant="bold">B</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mi>b</mi><mrow><mn>11</mn></mrow></msub></mtd><mtd><msub><mi>b</mi><mrow><mn>12</mn></mrow></msub></mtd><mtd><msub><mi>b</mi><mrow><mn>13</mn></mrow></msub></mtd></mtr><mtr><mtd><msub><mi>b</mi><mrow><mn>21</mn></mrow></msub></mtd><mtd><msub><mi>b</mi><mrow><mn>22</mn></mrow></msub></mtd><mtd><msub><mi>b</mi><mrow><mn>23</mn></mrow></msub></mtd></mtr><mtr><mtd><msub><mi>b</mi><mrow><mn>31</mn></mrow></msub></mtd><mtd><msub><mi>b</mi><mrow><mn>32</mn></mrow></msub></mtd><mtd><msub><mi>b</mi><mrow><mn>33</mn></mrow></msub></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></p>
<p>then <span class="math display">\[
\mathbf{C} = \mathbf{A} \mathbf{B}, c_{ij} = \sum_{k = 1}^3 a_{ik}b_{kj}
\]</span></p>
<h3 id="complexity">Complexity</h3>
<ul>
<li>Inner-most loop: Compute value for an entry.</li>
<li>Middle loop: Compute values in a row.</li>
<li>Outer-most loop: Compute values in all rows.</li>
</ul>
<p>For <span class="math inline">\(n \times n\)</span> matrix
multiplication, time complexity <span
class="math inline">\(\Theta(n^3)\)</span>.</p>
<h2 id="divide-and-conquer">Divide and Conquer</h2>
<p>To multiply two <span class="math inline">\(n \times n\)</span>
matricies, we can first perform 8 <span
class="math inline">\(\frac{n}{2} \times \frac{n}{2}\)</span> matrix
multiplications. <!-- $$
\mathbf{A} = \begin{bmatrix}
\mathbf{A_1} & \mathbf{A_2} \\ 
\mathbf{A_3} & \mathbf{A_4}
\end{bmatrix}, 
\mathbf{B} = \begin{bmatrix}
\mathbf{B_1} & \mathbf{B_2} \\ 
\mathbf{B_3} & \mathbf{B_4}
\end{bmatrix}
$$ -->
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mi mathvariant="bold">A</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">1</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">2</mn></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">3</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">4</mn></msub></mrow></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>,</mo><mrow><mi mathvariant="bold">B</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">1</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">2</mn></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">3</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">4</mn></msub></mrow></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></p>
<p>then <!-- $$
\mathbf{C} = \mathbf{A} \mathbf{B} = \begin{bmatrix}
\mathbf{A_1}\mathbf{B_1} + \mathbf{A_2}\mathbf{B_3} & \mathbf{A_1}\mathbf{B_2} + \mathbf{A_2}\mathbf{B_4} \\ 
\mathbf{A_3}\mathbf{B_1} + \mathbf{A_4}\mathbf{B_3} & \mathbf{A_3}\mathbf{B_2} + \mathbf{A_4}\mathbf{B_4}
\end{bmatrix}
$$ -->
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mi mathvariant="bold">C</mi></mrow><mo>=</mo><mrow><mi mathvariant="bold">A</mi></mrow><mrow><mi mathvariant="bold">B</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">1</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>+</mo><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">2</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">3</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">1</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>+</mo><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">2</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">4</mn></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">3</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>+</mo><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">4</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">3</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">3</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>+</mo><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">4</mn></msub></mrow><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">4</mn></msub></mrow></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></p>
<h3 id="complexity-1">Complexity</h3>
<p>The <span class="math inline">\(\mathbf{C} = \mathbf{A}
\mathbf{B}\)</span> has a fixed complexity of <span
class="math inline">\(\Theta(n^2)\)</span>, thus <span
class="math display">\[
T(n) = 8T(\frac{n}{2}) + cn = \Theta(n^3)
\]</span></p>
<h2 id="strassens-algorithms">Strassen’s Algorithms</h2>
<p>“Group” some of the multiplications together so we need less than 8
sub-matrix multplication.</p>
<p>First divide <span class="math inline">\(A\)</span>, <span
class="math inline">\(B\)</span> into <!-- $$
\mathbf{A} = \begin{bmatrix}
\mathbf{A_1} & \mathbf{A_2} \\ 
\mathbf{A_3} & \mathbf{A_4}
\end{bmatrix}, 
\mathbf{B} = \begin{bmatrix}
\mathbf{B_1} & \mathbf{B_2} \\ 
\mathbf{B_3} & \mathbf{B_4}
\end{bmatrix}
$$ -->
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mi mathvariant="bold">A</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">1</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">2</mn></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">3</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">A</mi><mn mathvariant="bold">4</mn></msub></mrow></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>,</mo><mrow><mi mathvariant="bold">B</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">1</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">2</mn></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">3</mn></msub></mrow></mtd><mtd><mrow><msub><mi mathvariant="bold">B</mi><mn mathvariant="bold">4</mn></msub></mrow></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></p>
<p>We let <span class="math display">\[
\mathbf{P}_1 = \mathbf{A}_1(\mathbf{B}_2 - \mathbf{B}_4) \\\\
\mathbf{P}_2 = (\mathbf{A}_1 + \mathbf{A}_2)\mathbf{B}_4 \\\\
\mathbf{P}_3 = (\mathbf{A}_3 + \mathbf{A}_4)\mathbf{B}_1 \\\\
\mathbf{P}_4 = \mathbf{A}_4(\mathbf{B}_3 - \mathbf{B}_1) \\\\
\mathbf{P}_5 = (\mathbf{A}_1 + \mathbf{A}_4)(\mathbf{B}_1 +
\mathbf{B}_4) \\\\
\mathbf{P}_6 = (\mathbf{A}_2 - \mathbf{A}_4)(\mathbf{B}_3 +
\mathbf{B}_4) \\\\
\mathbf{P}_7 = (\mathbf{A}_1 - \mathbf{A}_3)(\mathbf{B}_1 +
\mathbf{B}_2)
\]</span></p>
<p>Each calculation above costs time complexity of <span
class="math inline">\(\Theta(\frac{n}{2})\)</span>, then <!-- $$
\mathbf{C} = \mathbf{A} \mathbf{B} = \begin{bmatrix}
\mathbf{P}_5 + \mathbf{P}_4 - \mathbf{P}_2 + \mathbf{P}_6 & \mathbf{P}_1 + \mathbf{P}_2 \\ 
\mathbf{P}_3 + \mathbf{P}_4 & \mathbf{P}_5 + \mathbf{P}_1 - \mathbf{P}_3 - \mathbf{P}_7
\end{bmatrix}
$$ --></p>
<p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mi mathvariant="bold">C</mi></mrow><mo>=</mo><mrow><mi mathvariant="bold">A</mi></mrow><mrow><mi mathvariant="bold">B</mi></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>5</mn></msub><mo>+</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>4</mn></msub><mo>−</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>2</mn></msub><mo>+</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>6</mn></msub></mtd><mtd><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>1</mn></msub><mo>+</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>2</mn></msub></mtd></mtr><mtr><mtd><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>3</mn></msub><mo>+</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>4</mn></msub></mtd><mtd><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>5</mn></msub><mo>+</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>1</mn></msub><mo>−</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>3</mn></msub><mo>−</mo><msub><mrow><mi mathvariant="bold">P</mi></mrow><mn>7</mn></msub></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></p>
<h3 id="complexity-2">Complexity</h3>
<p><span class="math display">\[
T(n) = 7T(\frac{n}{2}) + cn = \Theta(n^{\log7}) \approx
\Theta(n^{2.808})
\]</span></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://remy-campanella.github.io">Remy Campanella</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://remy-campanella.github.io/2025/12/22/25-11-3-1-COMPSCI220-8-matrix/">https://remy-campanella.github.io/2025/12/22/25-11-3-1-COMPSCI220-8-matrix/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://remy-campanella.github.io" target="_blank">remy-campanella.github.io</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><a class="post-meta__tags" href="/tags/%E5%A5%A5%E5%85%8B%E5%85%B0%E5%A4%A7%E5%AD%A6%E2%80%94%E8%A5%BF%E5%8D%97%E5%A4%A7%E5%AD%A6%E5%90%88%E4%BD%9C%E8%AF%BE%E7%A8%8B/">奥克兰大学—西南大学合作课程</a><a class="post-meta__tags" href="/tags/%E5%A4%96%E6%96%87/">外文</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/">算法分析与设计</a></div><div class="post-share"><div class="social-share" data-image="/image/background/remy.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/12/22/25-11-3-2-COMPSCI220-9-sort/" title="【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms</div></div><div class="info-2"><div class="info-item-1">The Sorting Problem The sorting problem seeks to arrange a list (i.e., array or linked list) of keys (e.g., integers, strings) so that every adjacent pair of keys is in the designated order.  INPUT: An unsorted list of keys \(a = [0, \cdots, n - 1]\). OUTPUT: A sorted list containing the same list of elements \({a[0], \cdots, a[n - 1]}\).  Selection Sort  Split the input list into sorted and unsorted sublists. Sorted sublist is initially empty, and the unsorted sublist is the w...</div></div></div></a><a class="pagination-related" href="/2025/12/22/25-12-11-2-COMPSCI220-7-div-coq/" title="【COMPSCI 220】 Lecture 7 Divide and Conquer"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">【COMPSCI 220】 Lecture 7 Divide and Conquer</div></div><div class="info-2"><div class="info-item-1">Divide-and-Conquer The divide-and-conquer technique solves a computational problem by dividing it into one or more subprograms of smaller size, conquering each of them by solving them recursively, and then combining their solutions into a solution for the original problem. 1234567if n &lt;= n0 then    directly solve problem without dividingelse    divide problem into a subproblems of size n/b each    for i ← 0 to a − 1 do        recursively solve the ith subproblem    combine the a solut...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/11/19/25-11-19-1-COMPSCI220-4-asym-not/" title="【COMPSCI 220】Lecture 4 Asymptotic notations"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-19</div><div class="info-item-2">【COMPSCI 220】Lecture 4 Asymptotic notations</div></div><div class="info-2"><div class="info-item-1">Dominance Relation The dominance relation of the frequently used classes: \[ 1 \prec \log n \prec (\log n)^2 \prec n \prec n \log n \prec n^2 \prec n^2 \log n \prec n^3 \prec \cdots \prec 2^n \prec n! \] Asymptotic Notation Define \[ f(n) \prec g(n) \Leftrightarrow f(n) = O(g(n)) \\\\ g(n) \prec f(n) \Leftrightarrow f(n) = \Omega(g(n)) \\\\ f(n) = O(g(n)), f(n) = \Omega(g(n)) \Leftrightarrow f(n) = \Theta(g(n)) \]    Notation Read     \(O\) asymptotic upper bound   \(\...</div></div></div></a><a class="pagination-related" href="/2025/12/11/25-11-19-2-COMPSCI220-5-more-iss/" title="【COMPSCI 220】 Lecture 5 More Issues on Algorithm Analysis"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-11</div><div class="info-item-2">【COMPSCI 220】 Lecture 5 More Issues on Algorithm Analysis</div></div><div class="info-2"><div class="info-item-1">Elementary Operations  Comparison | Operation | Theoretically | Actually | | — | — | — | | Adding two numbers | \(O(1)\) | \(\Theta(n)\) | | Multiplying two numbers | \(O(1)\) | \(O(n^2)\) (by hand) | Default Nevertheless, in this course, we will assume \(+\), \(\times\) are elementary by default(\(O(1)\)), unless stated otherwise.  Input Size  Definition The input size of an algorithm is the number of bits taken to store the input of the algorithm. Comaprison Let \(x\) be th...</div></div></div></a><a class="pagination-related" href="/2025/12/22/25-11-3-3-COMPSCI220-10-quicksort/" title="【COMPSCI 220】 Lecture 10 Quick Sort"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-22</div><div class="info-item-2">【COMPSCI 220】 Lecture 10 Quick Sort</div></div><div class="info-2"><div class="info-item-1">Divide and Conquer Sorting Algorithms  Split the list into sublist Recursively sort each sublists. Combine the sorted lists.  Merge Sort does comparisons during combining, quick sort does comparisons during splitting. Quick Sort  Choose a pivot, then split(partition):  All elements in left sublist \(\leq\) pivot. All elements in right sublist \(&gt;\) pivot.  Recursively sort the left and right sublists. Combine.  Choose a pivot: Use the first entry as pivot element for...</div></div></div></a><a class="pagination-related" href="/2025/12/22/25-11-3-2-COMPSCI220-9-sort/" title="【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-22</div><div class="info-item-2">【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms</div></div><div class="info-2"><div class="info-item-1">The Sorting Problem The sorting problem seeks to arrange a list (i.e., array or linked list) of keys (e.g., integers, strings) so that every adjacent pair of keys is in the designated order.  INPUT: An unsorted list of keys \(a = [0, \cdots, n - 1]\). OUTPUT: A sorted list containing the same list of elements \({a[0], \cdots, a[n - 1]}\).  Selection Sort  Split the input list into sorted and unsorted sublists. Sorted sublist is initially empty, and the unsorted sublist is the w...</div></div></div></a><a class="pagination-related" href="/2025/11/19/25-11-4-1-COMPSCI220-1-intro/" title="【COMPSCI 220】 Lecture 1 What is a Algorithm and Why Analyse It?"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-19</div><div class="info-item-2">【COMPSCI 220】 Lecture 1 What is a Algorithm and Why Analyse It?</div></div><div class="info-2"><div class="info-item-1">Algorithms and Data Structures  Algorithms are sequences of clearly-stated rules that specify a step-by-step method for solving a given problem. Data structure are particular ways of storing and organising data in a computer system so that it can be used efficiently.  History Calculating Fibonacci Sequence Approximately, \(F(n) \approx 1.618^n\). Two Central Questions  What is an algorithm?  A list of unambiguous and detailed rules that specify successive operations. An id...</div></div></div></a><a class="pagination-related" href="/2025/11/19/25-11-4-2-COMPSCI220-2-run-time/" title="【COMPSCI 220】 Lecture 2 How to Measure Running Time?"><img class="cover" src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-19</div><div class="info-item-2">【COMPSCI 220】 Lecture 2 How to Measure Running Time?</div></div><div class="info-2"><div class="info-item-1">Some Big Numbers Characterising an Algorithm  Domain of definition. Correctness. Resource use: running time and memory space.  Resource Use  Time: Execution time of an algorithm. Space: Memory space taken by an algorithm. Machine model: A models of computation is a collection of assumptions/idealisation about the type of machines and system environment that the algorithm is running on. Elementary operation: An elementary operation is the basic measuring unit of running time, an...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/icon/loading.gif" data-original="/image/icon/Cover.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Remy Campanella</div><div class="author-info-description">A Remy Campanella blog website on Github.</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/remy-campanella"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站介绍帖、自我介绍帖内容已移至“关于”页面，目录帖内容已移至“分类”页面。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#standard-matrix-multiplication-algorithm"><span class="toc-number">1.</span> <span class="toc-text">Standard Matrix
Multiplication Algorithm</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#complexity"><span class="toc-number">1.1.</span> <span class="toc-text">Complexity</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#divide-and-conquer"><span class="toc-number">2.</span> <span class="toc-text">Divide and Conquer</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#complexity-1"><span class="toc-number">2.1.</span> <span class="toc-text">Complexity</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#strassens-algorithms"><span class="toc-number">3.</span> <span class="toc-text">Strassen’s Algorithms</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#complexity-2"><span class="toc-number">3.1.</span> <span class="toc-text">Complexity</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/24/25-11-26-2-CompOrg-5-mem/" title="【计算机组成原理】 第五章 存储系统"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【计算机组成原理】 第五章 存储系统"/></a><div class="content"><a class="title" href="/2025/12/24/25-11-26-2-CompOrg-5-mem/" title="【计算机组成原理】 第五章 存储系统">【计算机组成原理】 第五章 存储系统</a><time datetime="2025-12-24T07:55:36.000Z" title="发表于 2025-12-24 15:55:36">2025-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/22/25-11-5-15-COMPSCI220-11-graph-intro/" title="【COMPSCI 220】 Lecture 11 Graphs: A Brief Recap"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 11 Graphs: A Brief Recap"/></a><div class="content"><a class="title" href="/2025/12/22/25-11-5-15-COMPSCI220-11-graph-intro/" title="【COMPSCI 220】 Lecture 11 Graphs: A Brief Recap">【COMPSCI 220】 Lecture 11 Graphs: A Brief Recap</a><time datetime="2025-12-22T08:24:15.000Z" title="发表于 2025-12-22 16:24:15">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/22/25-11-3-3-COMPSCI220-10-quicksort/" title="【COMPSCI 220】 Lecture 10 Quick Sort"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 10 Quick Sort"/></a><div class="content"><a class="title" href="/2025/12/22/25-11-3-3-COMPSCI220-10-quicksort/" title="【COMPSCI 220】 Lecture 10 Quick Sort">【COMPSCI 220】 Lecture 10 Quick Sort</a><time datetime="2025-12-22T07:30:37.000Z" title="发表于 2025-12-22 15:30:37">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/22/25-11-3-2-COMPSCI220-9-sort/" title="【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms"/></a><div class="content"><a class="title" href="/2025/12/22/25-11-3-2-COMPSCI220-9-sort/" title="【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms">【COMPSCI 220】 Lecture 9 Analysis of Sorting Algorithms</a><time datetime="2025-12-22T06:32:24.000Z" title="发表于 2025-12-22 14:32:24">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/22/25-11-3-1-COMPSCI220-8-matrix/" title="【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm"><img src="/image/icon/loading.gif" data-original="/image/background/remy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm"/></a><div class="content"><a class="title" href="/2025/12/22/25-11-3-1-COMPSCI220-8-matrix/" title="【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm">【COMPSCI 220】 Lecture 8 Matrix Multiplication and Strassen’s Algorithm</a><time datetime="2025-12-22T05:16:46.000Z" title="发表于 2025-12-22 13:16:46">2025-12-22</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Remy Campanella</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0</a></span></div><div class="footer_custom_text">源代码库版本 1.4.0</div></div><script type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid@9.0.0/dist/mermaid.min.js"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        loader: {
          load: [
            // Four font extension packages (optional)
            //- '[tex]/bbm',
            //- '[tex]/bboldx',
            //- '[tex]/dsfont',
            '[tex]/mhchem'
          ],
          paths: {
            'mathjax-newcm': '[mathjax]/../@mathjax/mathjax-newcm-font',

            //- // Four font extension packages (optional)
            //- 'mathjax-bbm-extension': '[mathjax]/../@mathjax/mathjax-bbm-font-extension',
            //- 'mathjax-bboldx-extension': '[mathjax]/../@mathjax/mathjax-bboldx-font-extension',
            //- 'mathjax-dsfont-extension': '[mathjax]/../@mathjax/mathjax-dsfont-font-extension',
            'mathjax-mhchem-extension': '[mathjax]/../@mathjax/mathjax-mhchem-font-extension'
          }
        },
        output: {
          font: 'mathjax-newcm',
        },
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
          packages: {
            '[+]': [
              'mhchem'
            ]
          }
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          menuOptions: {
            settings: {
              enrich: false  // Turn off Braille and voice narration text automatic generation
            }
          },
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://unpkg.com/mathjax@4.0.0/tex-mml-chtml.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://unpkg.com/mermaid@11.11.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start -->
    <script src="/js/gallery.js" async></script>
<!-- hexo injector body_end end -->
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 2,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>